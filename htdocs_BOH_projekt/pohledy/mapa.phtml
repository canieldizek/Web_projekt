<h1>Mapa a túry</h1>

<?php if (isset($_SESSION["User"])) { ?>
    <form method="post">
        <label>Název túry: <input type="text" name="nazev" required></label><br>
        <label>Délka (km): <input type="number" step="0.1" name="delka" required></label><br>
        <label>Čas: <input type="time" name="cas" required></label><br>
        <label>Obtížnost:
            <select name="obtiznost">
                <option value="1">Lehká</option>
                <option value="2">Střední</option>
                <option value="3">Těžká</option>
            </select>
        </label><br>
        <button type="submit">Přidat túru</button>
    </form>
<?php } ?>

<h2>Seznam túr</h2>
<?php if(!empty($trip)){?>
    <ul>
        <?php foreach ($trip as $tura) { ?>
            <li>
                <strong><?= htmlspecialchars($tura['Name_trip']) ?></strong> –
                Délka: <?= $tura['Length'] ?> km, Čas: <?= $tura['Time'] ?>,
                Obtížnost: <?= htmlspecialchars($tura['Difficulty']) ?>,
                Autor: <?= htmlspecialchars($tura['Creator']) ?>
            </li>
        <?php } ?>
    </ul>
<?php } ?>

<h2>Mapa</h2>
<div id="mapa" style="width: 100%; height: 500px;"></div>

<script>
// Načti mapu.cz (zatím placeholder)
document.addEventListener("DOMContentLoaded", () => {
    var mapFrame = document.createElement("iframe");
    mapFrame.src = "https://mapy.com/cs/zakladni?x=15.0&y=50.0&z=7";  // Může se dynamizovat podle potřeby
    mapFrame.style.width = "100%";
    mapFrame.style.height = "100%";
    mapFrame.style.border = "none";
    document.getElementById("mapa").appendChild(mapFrame);
});
</script>
